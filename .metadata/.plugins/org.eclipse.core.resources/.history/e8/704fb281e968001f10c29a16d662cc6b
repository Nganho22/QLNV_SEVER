package QLNVActivityAPI.repository;

import org.springframework.data.mongodb.repository.MongoRepository;
import org.springframework.data.mongodb.repository.Query;

import java.util.Optional;
import java.util.List;
import QLNVActivityAPI.model.Activity;

public interface ActivityRepository extends MongoRepository<Activity, String>  {
	List<Activity> findByLoai(int Loai); 
	 @Query("{ 'tenHoatDong': { $regex: ?0, $options: 'i' }, 'loai': ?1  }")
	  List<Activity> findByTenHoatDongRegex(String regex,int Loai);
	 
    @Query("{ $or: [ { HanCuoiDangKy: { $gte: ?0, $lt: ?1 } }, { NgayBatDau: { $gte: ?0, $lt: ?1 } }, { NgayKetThuc: { $gte: ?0, $lt: ?1 } } ] }")
    long countActivitiesByMonth(int startOfMonth, int endOfMonth);
}
